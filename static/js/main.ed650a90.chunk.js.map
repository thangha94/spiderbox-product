{"version":3,"sources":["components/Header/Header.js","components/News/News.js","components/App/App.js","index.js"],"names":["options","value","label","Header","setCountry","country","favMode","setFavMode","className","onChange","selectedOption","onClick","News","data","updateFavorite","target","href","url","src","urlToImage","alt","title","source","name","author","favorite","App","useState","newsList","setNewsList","getData","a","axios","get","status","articles","console","log","useEffect","JSON","stringify","news","tempList","parse","map","item","index","ReactDOM","render","document","getElementById"],"mappings":"gUAIMA,EAAU,CACZ,CAAEC,MAAO,KAAMC,MAAO,iBACtB,CAAED,MAAO,KAAMC,MAAO,aACtB,CAAED,MAAO,KAAMC,MAAO,SACtB,CAAED,MAAO,KAAMC,MAAO,SACtB,CAAED,MAAO,KAAMC,MAAO,gBAsBXC,EAlBA,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,WAAYC,EAAmC,EAAnCA,QAASC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,WAK5C,OACI,sBAAKC,UAAU,SAAf,UACI,cAAC,IAAD,CACIA,UAAU,yBACVP,MAAOI,EACPI,SATU,SAACC,GACnBN,EAAWM,IASHV,QAASA,IAEb,wBAAQQ,UAAU,mBAAmBG,QAAS,kBAAMJ,GAAYD,IAAhE,SAA2EA,EAAU,gBAAkB,gCCTpGM,G,MAdF,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,KAAMC,EAAqB,EAArBA,eAClB,OACI,sBAAKN,UAAU,OAAf,UACI,oBAAGA,UAAU,gBAAgBO,OAAO,SAASC,KAAMH,EAAKI,IAAxD,UACI,qBAAKT,UAAU,cAAcU,IAAKL,EAAKM,WAAYC,IAAKP,EAAKQ,QAC7D,qBAAKb,UAAU,cAAf,SAA8BK,EAAKQ,WAEvC,sBAAKb,UAAU,eAAf,mBAAqCK,EAAKS,OAAOC,QACjD,sBAAKf,UAAU,eAAf,qBAAuCK,EAAKW,UAC5C,yBAAQb,QAAS,kBAAMG,EAAeD,IAAtC,UAA8CA,EAAKY,SAAW,kBAAoB,eAAlF,IAAmGZ,EAAKY,iB,MCiDrGC,MArDf,WAAgB,IAAD,EACiBC,mBAAS,CAAE1B,MAAO,KAAMC,MAAO,iBADhD,mBACNG,EADM,KACGD,EADH,OAEiBuB,oBAAS,GAF1B,mBAENrB,EAFM,KAEGC,EAFH,OAGmBoB,oBAAS,GAH5B,mBAGNC,EAHM,KAGIC,EAHJ,KAKPC,EAAO,uCAAG,8BAAAC,EAAA,6DACVd,EADU,uDAC4CZ,EAAQJ,MADpD,mBAPF,oCAOE,SAEO+B,IAAMC,IAAIhB,GAFjB,OAGe,QADzBW,EAFU,QAGDf,KAAKqB,OAChBL,EAAYD,EAASf,KAAKsB,UAE1BC,QAAQC,IAAI,gBANA,2CAAH,qDASbC,qBAAU,WACRR,MACC,CAACS,KAAKC,UAAUnC,KAEnB,IAAMS,EAAiB,SAAC2B,GACtB,IAAIC,EAAWH,KAAKI,MAAMJ,KAAKC,UAAUZ,IACzCc,EAASE,KAAI,SAAAC,GAGPA,EAAK5B,MAAQwB,EAAKxB,MACpB4B,EAAKpB,UAAYoB,EAAKpB,aAG1BI,EAAYa,IAGd,OACE,sBAAKlC,UAAU,MAAf,UACE,cAAC,EAAD,CAAQF,QAASA,EAASC,WAAYA,EAAYF,QAASA,EAASD,WAAYA,IAE9EwB,GAAYA,EAASgB,KAAI,SAACC,EAAMC,GAE9B,GAAID,EAAK1B,WAAY,CACnB,IAAIb,EAOF,OAAO,cAAC,EAAD,CAAMQ,eAAgBA,EAA4BD,KAAMgC,GAAbC,GALlD,GAAID,EAAKpB,SACP,OAAO,cAAC,EAAD,CAAMX,eAAgBA,EAA4BD,KAAMgC,GAAbC,W,MC3ClEC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.ed650a90.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport Select from 'react-select';\r\nimport './Header.scss'\r\n\r\nconst options = [\r\n    { value: 'US', label: 'United States' },\r\n    { value: 'AU', label: 'Australia' },\r\n    { value: 'KR', label: 'Korea' },\r\n    { value: 'JP', label: 'Japan' },\r\n    { value: 'NZ', label: 'New zealand' },\r\n];\r\n\r\n\r\nconst Header = ({ setCountry, country, favMode, setFavMode }) => {\r\n    const countryChange = (selectedOption) => {\r\n        setCountry(selectedOption)\r\n    }\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <Select\r\n                className=\"header__country-select\"\r\n                value={country}\r\n                onChange={countryChange}\r\n                options={options}\r\n            />\r\n            <button className=\"header__mode-btn\" onClick={() => setFavMode(!favMode)}>{favMode ? 'Show all news' : 'Just show favorite news'}</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport './News.scss';\r\n\r\nconst News = ({ data, updateFavorite }) => {\r\n    return (\r\n        <div className=\"news\">\r\n            <a className=\"news__wrapper\" target=\"_blank\" href={data.url}>\r\n                <img className=\"news__image\" src={data.urlToImage} alt={data.title} />\r\n                <div className=\"news__title\">{data.title}</div>\r\n            </a>\r\n            <div className=\"news__source\">From: {data.source.name}</div>\r\n            <div className=\"news__author\">Author: {data.author}</div>\r\n            <button onClick={() => updateFavorite(data)}>{data.favorite ? 'Remove Favorite' : 'Add Favorite'} {data.favorite}</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default News;","import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport Header from '../Header/Header';\nimport News from '../News/News';\nimport './App.scss';\n\nconst API_KEY = '634c025c124f4790a919fb1e0a11935e';\n\nfunction App() {\n  const [country, setCountry] = useState({ value: 'US', label: 'United State' });\n  const [favMode, setFavMode] = useState(false); // false: show all news ; true: show favorite news\n  const [newsList, setNewsList] = useState(false);\n\n  const getData = async () => {\n    let url = `https://newsapi.org/v2/top-headlines?country=${country.value}&apiKey=${API_KEY}`;\n    let newsList = await axios.get(url);\n    if (newsList.data.status === 'ok') {\n      setNewsList(newsList.data.articles)\n    } else {\n      console.log('Handle Error');\n    }\n  }\n  useEffect(() => {\n    getData()\n  }, [JSON.stringify(country)])\n\n  const updateFavorite = (news) => {\n    let tempList = JSON.parse(JSON.stringify(newsList));\n    tempList.map(item => {\n      // filter and add a property for mark favorite\n      // chose the url property to mark the item because the url is unique\n      if (item.url === news.url) {\n        item.favorite = !item.favorite;\n      }\n    })\n    setNewsList(tempList);\n  }\n\n  return (\n    <div className=\"app\">\n      <Header favMode={favMode} setFavMode={setFavMode} country={country} setCountry={setCountry} />\n      {\n        newsList && newsList.map((item, index) => {\n          // Just show the news has the image\n          if (item.urlToImage) {\n            if (favMode) {\n              // just show the favorite news in favorite mode\n              if (item.favorite) {\n                return <News updateFavorite={updateFavorite} key={index} data={item} />\n              }\n            } else {\n              // show all news in normal mode\n              return <News updateFavorite={updateFavorite} key={index} data={item} />\n            }\n          }\n        })\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './styles/main.scss';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}